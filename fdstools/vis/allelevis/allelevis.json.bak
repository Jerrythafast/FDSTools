{
  "width": 500,
  "height": 500,
  "data": [
    {
      "name": "raw",
      "values": "VALUES HERE",
      "format": {
        "type": "tsv"
      },
      "transform": [
        {
          "type": "aggregate",
          "groupby": ["marker", "allele"],
          "summarize": {"*": "count"}
        }
      ]
    },
    {
      "name": "edges",
      "values": "EDGES_VALUES_HERE",
      "format": {
        "type": "tsv"
      }
    },
    {
      "name": "nodes",
      "values": "NODES_VALUES_HERE",
      "format": {
        "type": "tsv"
      },
      "transform": [
        {
          "type": "formula",
          "field": "charge",
          "expr":
          "-20*pow(0.05*d.data.count, 1/2)"
        },
        {
          "type": "force",
          "links": "edges",
          "linkDistance": 30,
          "linkStrength": 0.1,
          "charge": "charge",
          "iterations": 1000
        }
      ]
    }
  ],
  "scales": [
    {
      "name": "c",
      "type": "ordinal",
      "range": "category20"
    },
    {
      "name": "legend_sizes",
      "type": "ordinal",
      "range": [1, 5, 10, 20, 50]
    }
  ],
  "legends": [
    {
      "fill": "c",
      "stroke": "c",
      "properties": {
        "symbols": {
          "size": {"value": 75}
        }
      }
    },
    {
      "size": "legend_sizes",
      "values": [1, 5, 10, 20, 50]
    }
  ],
  "marks": [
    {
      "type": "path",
      "from": {
        "data": "edges",
        "transform": [
          {
            "type": "sort",
            "by": "source.data.marker"
          },
          {
            "type": "link",
            "shape": "line"
          }
        ]
      },
      "properties": {
        "update": {
          "path": {"field": "path"},
          "stroke": {"scale": "c", "field": "source.data.marker"},
          "strokeWidth": {"field": "data.count", "mult": 0.5},
          "strokeOpacity": {"value": 0.3}
        }
      }
    },
    {
      "type": "symbol",
      "from": {
        "data": "nodes"
      },
      "properties": {
        "enter": {
          "size": {"field": "data.count"}
        },
        "update": {
          "x": {"field": "x"},
          "y": {"field": "y"},
          "fill": {"scale": "c", "field": "data.marker"},
          "stroke": {"scale": "c", "field": "data.marker"}
        }
      }
    },
    {
      "type": "symbol",
      "from": {
        "data": "nodes"
      },
      "properties": {
        "enter": {
          "size": {"field": "data.homCount"}
        },
        "update": {
          "y": {"field": "y"},
          "y": {"field": "y"},
          "fill": {"value": "black"},
          "stroke": {"value": "black"}
        }
      }
    }
  ]
}
